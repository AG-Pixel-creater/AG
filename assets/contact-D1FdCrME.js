import{j as m,n as u,o as f,p as y,q as g,t as E}from"./firebase-config-BzeKTwPy.js";/* empty css                 */import"./home-qTAir8Bv.js";const r=document.getElementById("contactForm"),s=document.querySelector(".submit-btn");r.addEventListener("submit",async e=>{var i;e.preventDefault(),s.disabled=!0,s.textContent="Sending...";const a=document.getElementById("name").value.trim(),o=document.getElementById("email").value.trim(),n=document.getElementById("message").value.trim();try{if(!a||!o||!n)throw new Error("Please fill in all fields");const t={name:a,email:o,message:n,timestamp:new Date,userId:((i=m.currentUser)==null?void 0:i.uid)||"anonymous",status:"unread"},c=await u(f(y,"messages"),t);try{const d=await g(E,"notifyAdmin")({messageId:c.id,sender:a,preview:n.substring(0,100)});d.data.success||console.warn("Notification not sent:",d.data.error)}catch(l){console.error("Notification error:",l)}alert("Message sent successfully!"),r.reset()}catch(t){console.error("Error details:",t),alert(t.message||"Failed to send message. Please try again.")}finally{s.disabled=!1,s.textContent="Send Message"}});const v=r.querySelectorAll("input, textarea");v.forEach(e=>{e.addEventListener("input",()=>{e.setCustomValidity(""),e.checkValidity()}),e.addEventListener("invalid",()=>{e.value.trim()===""&&e.setCustomValidity("This field is required")})});
